
<html>
    <head>
        <title>Signup Page</title>
        <!--Source:https://code.jquery.com/-->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    
    </head>
    <body>
        <br>
        <!--The field box for design-->
            <fieldset class="fldset-class">
                <legend class="legend-class"><p style="font-size:30px">Signup Page</p></legend>
          
                <!--Field form that registers username,phonenumber and passwords-->
        <form id="register" autocomplete="off"><figure> 
            <label>Username</label><br>
            <input id="username" type="text" name="username" placeholder="username"/><br>
            <br><label>Password</label><br>
            <input id="password" type="password" name="password" placeholder="password"/><br>
            <br><label>Phonenumber</label><br>
            <input id="phonenumber" type="number" name="phonenumber" placeholder="phonenumber"/><br>
            
            <!--Button-->
            <br><input type="submit" value="Create Account"/><br/>
        </figure></form>
        <p>Already have an account here?</p>
        <a href="/login">Login here</a>

        <script>
            $(document).ready(function(){
                $("#register").submit(function(e){
                    e.preventDefault() //Prevents page refresh
                    
                    //registering the form data to variables
                    var SignData = {
                        username: $("#username").val(),
                        password: $("#password").val(),
                        phonenumber: $("#phonenumber").val(),
                    }
                    // Successfull popup if user credentials ok/accepted
                    $.post("/api/signup", SignData, function(res){
                        if(res.success === true){
                            alert("Success!")
                        } 
                        else {  // Else error message
                            if(res.reason) alert(res.reason)
                            else alert("Unknown error")
                        }
                    })
                })
            })
        </script>
    </body>
</html>
</html>