
<html>
    <head>
        <title>Verification</title>
        <!--Source:https://code.jquery.com/-->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    </head>
    <body>
        <br>
        <!--The field box for design-->
            <fieldset class="fldset-class">
                <legend class="legend-class"><p style="font-size:30px">Two Factor Authentication</p></legend>
          
                <!--Field form that registers username,email and passwords-->
        <form id="register" autocomplete="off"><figure> 
            <label>Username</label><br>
            <input id="username" type="text" name="username" placeholder="username"/><br>
            <br><label>Message</label><br>
            <input id="message" type="number" name="message" placeholder="message"/><br>
            <br><label>Password</label><br>
            <input id="password" type="password" name="password" placeholder="password"/><br>

    
            
            <!--Button-->
            <br><input type="submit" value="Verify"/><br/>
        </figure></form>
        

        <script>
            $(document).ready(function(){
                $("#register").submit(function(e){
                    e.preventDefault() //Prevents page refresh
                    
                    //registering the form data to variables
                    var VerData = {
                        username: $("#username").val(),
                        message: $("#message").val(),
                        password: $("#password").val(),
                        
                    }
                    // Successfull popup if user credentials ok/accepted
                    $.post("/api/verification", VerData, function(res){
                        if(res.success === true){
                            alert("Success!") // need to add for message too or else it says sucess even if only pass and user are right
                        } 
                        else {  // Else error message
                            if(res.reason) alert(res.reason)
                            else alert("Unknown error")
                        }
                    })
                })
            })
        </script>
    </body>
</html>
</html>